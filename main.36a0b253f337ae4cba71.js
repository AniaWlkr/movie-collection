(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,n){},"2lKY":function(e,t){var n,a,o={checkbox:document.querySelector("#checkbox"),sunIcon:document.querySelector("#sun"),moonIcon:document.querySelector("#moon")};o.checkbox.addEventListener("change",(function(){document.body.classList.toggle("dark-theme"),document.body.classList.contains("dark-theme")?(localStorage.setItem("theme","dark-theme"),o.sunIcon.classList.remove("accent-icon"),o.moonIcon.classList.add("accent-icon"),localStorage.setItem("currentIcon","moon")):(localStorage.setItem("theme","light-theme"),o.moonIcon.classList.remove("accent-icon"),o.sunIcon.classList.add("accent-icon"),localStorage.setItem("currentIcon","sun"))})),n=localStorage.getItem("theme"),a=localStorage.getItem("currentIcon"),"dark-theme"===n&&"moon"===a?(document.body.classList.add("dark-theme"),o.moonIcon.classList.add("accent-icon"),o.sunIcon.classList.remove("accent-icon"),o.checkbox.checked=!0):o.checkbox.checked=!1},QfWi:function(e,t,n){"use strict";n.r(t);n("0HMw"),n("ikie"),n("IlJM");var a=n("w5Op"),o=n.n(a),l=n("czhI"),i=n.n(l);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r="https://api.themoviedb.org/",c="be8c1fddab60d3ca36450ce7d48f58dd",d=function(){function e(){this.searchQuery="",this.page=1}var t,n,a,o=e.prototype;return o.getResponseAll=function(e){var t=this.page;return e&&(t=e),i.a.get(r+"3/trending/all/day?api_key="+c+"&page="+t)},o.getResponseWord=function(e){var t=this.page;return e&&(t=e),i.a.get(r+"3/search/movie?api_key="+c+"&page="+t+"&query="+this.searchQuery+"&include_adult=false&language=en")},o.getGenresMovies=function(){return i.a.get(r+"3/genre/movie/list?api_key="+c+"&language=en-US").then((function(e){return e.data.genres}))},o.getResponseInfo=function(e){return i.a.get(r+"3/movie/"+e+"?api_key="+c+"&language=en-US")},o.genresApi=function(){return i.a.get(r+"3/genre/movie/list?api_key="+c+"&language=en-US")},t=e,(n=[{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}])&&s(t.prototype,n),a&&s(t,a),e}(),u=document.querySelector(".modal"),m=document.querySelector(".modal-backdrope"),h=document.querySelector(".modal-content"),p=document.querySelector(".movies-list"),v=new d,g=function(e){u.classList.remove("is-open"),h.innerHTML=""},f=function e(t){"Escape"===t.code&&(u.classList.remove("is-open"),window.removeEventListener("keyup",e))};m.addEventListener("click",g),p.addEventListener("click",(function(e){var t=e.path.find((function(e){return"LI"===e.nodeName})).dataset.sourse;v.getResponseInfo(t).then((function(e){h.insertAdjacentHTML("afterbegin",o()(e.data)),document.querySelector(".modal-close-button").addEventListener("click",g),u.classList.add("is-open"),window.addEventListener("keyup",f)}))}));n("RtS0"),n("3dw1");var y=n("Wdqw"),b=n.n(y);function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var _=new(function(){function e(){this.watched=[],this.queue=[],this.movieId="",this._keyName="movies",this.storageHandler=this.storageHandler.bind(this)}var t,n,a,o=e.prototype;return o.storageHandler=function(e){var t=e.target;t!==e.currentTarget&&("watched"===t.dataset.active&&(this.addToWatched(),t.disabled=!0),"queue"===t.dataset.active&&(this.addToQueue(),t.disabled=!0))},o.saveToStorage=function(){var e={watched:this.watched,inQueue:this.queue};localStorage.setItem(this._keyName,JSON.stringify(e))},o.takeFromStorage=function(){try{var e=localStorage.getItem(this._keyName);return null===e?void 0:JSON.parse(e)}catch(e){console.error("Parse error: "+e)}},o.addToWatched=function(){this.watched.push(this.movieId),this.saveToStorage()},o.addToQueue=function(){this.queue.push(this.movieId),this.saveToStorage()},o.addLocalStorageListener=function(e){e.addEventListener("click",this.storageHandler)},o.removeLocalStorageListener=function(e){e.removeEventListener("click",this.storageHandler)},t=e,(n=[{key:"addMovieId",set:function(e){this.movieId=e}}])&&L(t.prototype,n),a&&L(t,a),e}()),w=new d,k={header:document.querySelector(".header"),navigationList:document.querySelector(".navigation-list"),searchFofm:document.querySelector(".search-form"),tabs:document.querySelector(".tabs"),movieList:document.querySelector(".movies-list")},S=function(e){var t=k.tabs.querySelector(".is-active");(t&&t.classList.remove(".is-active"),"finished"===e.target.dataset.action)&&(k.movieList.innerHTML="",e.target.classList.add(".is-active"),_.takeFromStorage().watched.forEach((function(e){w.getResponseInfo(e).then((function(e){var t=e.data,n=b()(t);return k.movieList.insertAdjacentHTML("beforeend",n)}))})));"waiting"===e.target.dataset.action&&(k.movieList.innerHTML="",e.target.classList.add(".is-active"),_.takeFromStorage().inQueue.forEach((function(e){w.getResponseInfo(e).then((function(e){var t=e.data,n=b()(t);return k.movieList.insertAdjacentHTML("beforeend",n)}))})))};k.navigationList.addEventListener("click",(function(e){if(e.preventDefault(),"A"===e.target.nodeName){var t=k.navigationList.querySelector(".current");t&&t.classList.remove("current");var n,a=e.target;a.classList.add("current"),"home"===(n=a.dataset.state)&&(k.header.classList.add("header"),k.header.classList.remove("header-library"),k.searchFofm.classList.remove("is-hidden"),k.tabs.classList.add("is-hidden")),"library"===n&&(k.header.classList.add("header-library"),k.header.classList.remove("header"),k.searchFofm.classList.add("is-hidden"),k.tabs.classList.remove("is-hidden"),k.tabs.addEventListener("click",S))}}));n("8cZI"),n("lmye"),n("WB5j"),n("D/wG");var I=n("2c84"),q=n.n(I),T=document.querySelector("#pagination-box"),E=new q.a(T,{totalItems:500,itemsPerPage:20,visiblePages:6,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}} custom-class-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}} custom-class-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip custom-class-{{type}}"><span class="tui-ico-ellip">...</span></a>'}}),M=new d,H=document.querySelector("#search-form"),j=document.querySelector(".movies-list");function x(e){j.innerHTML="",j.insertAdjacentHTML("beforeend",e.map((function(e){return b()(e)})).join(""))}function O(e){return M.getGenresMovies().then((function(t){for(var n=function(n){e[n].release_date||(e[n].release_date=e[n].first_air_date);try{e[n].release_date=e[n].release_date.slice(0,4)}catch(e){console.log(e)}e[n].original_title||(e[n].original_title=e[n].original_name),e[n].genres=[];try{for(var a=function(a){var o=t.find((function(t){return t.id===e[n].genre_ids[a]}));o&&e[n].genres.push(o.name)},o=0;o<e[n].genre_ids.length;o++)a(o)}catch(e){console.log(e)}},a=0;a<e.length;a++)n(a);return e}))}function P(e){e.preventDefault(),E.reset(),M.query=e.currentTarget.elements.query.value,M.getResponseWord().then((function(e){var t=e.data,n=t.results,a=t.total_results;O(n).then(x),E.setTotalItems(a),E.on("afterMove",(function(e){var t=e.page;M.getResponseWord(t).then((function(e){return O(e.data.results).then(x)}))}))}))}E.reset(),M.getResponseAll().then((function(e){var t=e.data,n=t.results,a=t.total_results;O(n).then(x),E.setTotalItems(a),E.on("afterMove",(function(e){var t=e.page;M.getResponseAll(t).then((function(e){return O(e.data.results).then(x)}))}))})),H.addEventListener("submit",P);n("2lKY");window.addEventListener("load",void(document.querySelector(".loader").className+=" hidden-loader"))},Wdqw:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="movie-item" data-sourse='+c(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:s)===r?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:1,column:35},end:{line:1,column:41}}}):l)+'>\n  <img src="https://image.tmdb.org/t/p/w500'+c(typeof(l=null!=(l=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?l:s)===r?l.call(i,{name:"poster_path",hash:{},data:o,loc:{start:{line:2,column:43},end:{line:2,column:58}}}):l)+'" alt="'+c(typeof(l=null!=(l=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?l:s)===r?l.call(i,{name:"original_title",hash:{},data:o,loc:{start:{line:2,column:65},end:{line:2,column:83}}}):l)+'" class="movie-img" id='+c(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:s)===r?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:2,column:106},end:{line:2,column:112}}}):l)+'>\n  <div class="movie-wrapper">\n    <h3 class="movie-title">'+c(typeof(l=null!=(l=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?l:s)===r?l.call(i,{name:"original_title",hash:{},data:o,loc:{start:{line:4,column:28},end:{line:4,column:46}}}):l)+'</h3>\n    <p class="movie-info"><span class="movie-genres">'+c(typeof(l=null!=(l=d(n,"genres")||(null!=t?d(t,"genres"):t))?l:s)===r?l.call(i,{name:"genres",hash:{},data:o,loc:{start:{line:5,column:53},end:{line:5,column:63}}}):l)+'</span> | <span class="movie-date">'+c(typeof(l=null!=(l=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?l:s)===r?l.call(i,{name:"release_date",hash:{},data:o,loc:{start:{line:5,column:98},end:{line:5,column:114}}}):l)+"</p>\n  </div>\n</li>\n\n"},useData:!0})},ikie:function(e,t){var n=document.querySelector(".button-up");n.addEventListener("click",(function(){window.scrollTo({top:0,right:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){var e=window.pageYOffset,t=document.documentElement.clientHeight;e<t&&n.classList.add("visually-hidden"),e>t&&n.classList.remove("visually-hidden")}))},w5Op:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal-card">\n\n  <button type="button" class="modal-close-button material-icons">close</button>\n  <a href='+c(typeof(l=null!=(l=d(n,"homepage")||(null!=t?d(t,"homepage"):t))?l:s)===r?l.call(i,{name:"homepage",hash:{},data:o,loc:{start:{line:4,column:10},end:{line:4,column:22}}}):l)+' class="modal-card-film-ref" target="_blank"><img class="modal-card-img"\n      src="https://image.tmdb.org/t/p/w500'+c(typeof(l=null!=(l=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?l:s)===r?l.call(i,{name:"poster_path",hash:{},data:o,loc:{start:{line:5,column:42},end:{line:5,column:57}}}):l)+'"></a>\n\n  <div class="modal-tablet-style">\n    <h1 class="modal-card-title">'+c(typeof(l=null!=(l=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?l:s)===r?l.call(i,{name:"original_title",hash:{},data:o,loc:{start:{line:8,column:33},end:{line:8,column:51}}}):l)+'</h1>\n    <div class="modal-card-film-info">\n      <ul class="modal-card-info-list">\n        <li class="modal-list-item">\n          <div class="modal-card-info-list-item modal-value-name">Vote / Votes</div>\n          <div class="modal-card-info-list-item modal-left">\n            <p class="modal-rate">'+c(typeof(l=null!=(l=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?l:s)===r?l.call(i,{name:"vote_average",hash:{},data:o,loc:{start:{line:14,column:34},end:{line:14,column:50}}}):l)+'</p> <span class="modal-stick">/</span>\n            <p class="modal-rate">'+c(typeof(l=null!=(l=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?l:s)===r?l.call(i,{name:"vote_count",hash:{},data:o,loc:{start:{line:15,column:34},end:{line:15,column:48}}}):l)+'</p>\n          </div>\n        </li>\n        <li class="modal-list-item">\n          <div class="modal-card-info-list-item modal-value-name">Popularity\n          </div>\n          <div class="modal-card-info-list-item">\n            '+c(typeof(l=null!=(l=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?l:s)===r?l.call(i,{name:"popularity",hash:{},data:o,loc:{start:{line:22,column:12},end:{line:22,column:26}}}):l)+'\n          </div>\n        </li>\n        <li class="modal-list-item">\n          <div class="modal-card-info-list-item modal-value-name">Original Title</div>\n          <div class="modal-card-info-list-item modal-original-title">\n            '+c(typeof(l=null!=(l=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?l:s)===r?l.call(i,{name:"original_title",hash:{},data:o,loc:{start:{line:28,column:12},end:{line:28,column:30}}}):l)+'\n          </div>\n        </li>\n        <li class="modal-list-item">\n          <div class="modal-card-info-list-item modal-value-name">Genre</div>\n          <div class="modal-card-info-list-item">\n          </div>\n        </li>\n      </ul>\n\n    </div>\n    <p class="modal-card-about-title">about</p>\n    <p class="modal-card-about">\n      '+c(typeof(l=null!=(l=d(n,"overview")||(null!=t?d(t,"overview"):t))?l:s)===r?l.call(i,{name:"overview",hash:{},data:o,loc:{start:{line:41,column:6},end:{line:41,column:18}}}):l)+'</p>\n    <div class="modal-button-div">\n      <button class="modal-card-button" data-active="watched">add to <br>Watched</button>\n      <button class="modal-card-button" data-active="queue">add to queue</button>\n    </div>\n  </div>\n</div>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.36a0b253f337ae4cba71.js.map